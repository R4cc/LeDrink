@using LeDrink.DAL.Models
<Modal Title="@HeaderText"
       Visible="@_visible"
       OnOk="@HandleOk"
       OnCancel="@HandleCancel"
       ConfirmLoading="@_confirmLoading"
       Class="fade">
</Modal>


@code{
    [Parameter] public Bottle _selectedBottle { get; set; }
    [Parameter] public List<Bottle> _bottles { get; set; }
    [Parameter] public EventCallback<Bottle> OnValidSubmit { get; set; }
    [Parameter] public EventCallback CancelSubmit { get; set; }
    [Parameter] public string HeaderText { get; set; }

    bool _visible = false;
    bool _confirmLoading = false;
    string _modalText = "Content of the modal";

    protected override async Task OnInitializedAsync()
    {
        ShowModal();
    }

    private void ShowModal()
    {
        _visible = true;
    }

    private async Task HandleOk(MouseEventArgs e)
    {
        _confirmLoading = true;
        StateHasChanged();
        _visible = false;
        _confirmLoading = false;
    }

    private void HandleCancel(MouseEventArgs e)
    {
        Console.WriteLine("Clicked cancel button");
        _visible = false;
    }
}